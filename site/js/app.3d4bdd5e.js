(function(e){function t(t){for(var o,r,c=t[0],a=t[1],p=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,p||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var a=n[c];0!==s[a]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},s={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var u=a;i.push(["8b29","chunk-vendors"]),n()})({"04fd":function(e,t,n){"use strict";var o=n("4c32"),s=n.n(o);s.a},"097e":function(e,t,n){"use strict";var o=n("e4cf"),s=n.n(o);s.a},"12bb":function(e,t,n){"use strict";var o=n("84ac"),s=n.n(o);s.a},"215b":function(e,t,n){"use strict";var o=n("2ecd"),s=n.n(o);s.a},"233d":function(e,t,n){"use strict";var o=n("ff22"),s=n.n(o);s.a},"2ecd":function(e,t,n){},"35e6":function(e,t,n){},3845:function(e,t,n){"use strict";var o=n("859e"),s=n.n(o);s.a},"4c06":function(e,t,n){"use strict";var o=n("c006"),s=n.n(o);s.a},"4c32":function(e,t,n){},5720:function(e,t,n){"use strict";var o=n("a15a"),s=n.n(o);s.a},"58f9":function(e,t,n){},"6d04":function(e,t,n){},"7d28":function(e,t,n){"use strict";var o=n("d414"),s=n.n(o);s.a},"84ac":function(e,t,n){},"859e":function(e,t,n){},"8b29":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),s=n("5530"),i="SANDWICH_JSON_DATA",r={"手机":"phone","选择题":"choise-question","输入框":"textarea"},c=Object(s["a"])({"图片":"picture","文本":"text","轮播图":"swiper","表单":"form"},r),a={"单选题":"radio","多选题":"checkbox"},p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.components?n("Renderer",{attrs:{components:e.components,"component-render-config":e.componentRenderConfig}}):e._e()],1)},u=[],l=n("ade3"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"renderer"},e._l(e.rootChildComponents,(function(t,o){return n("RenderComponent",e._b({key:t.id,attrs:{components:e.components,component:t},scopedSlots:e._u([{key:"before-component",fn:function(){return[e._t("before-component",null,{component:t,index:o})]},proxy:!0}],null,!0)},"RenderComponent",e.$attrs,!1))})),1)},m=[],f=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-wrap"},[e._t("before-component"),n(e._componentRenderConfig[e.component.type],{ref:"component",tag:"component",staticClass:"component",attrs:{component:e.component}},e._l(e.childComponents,(function(t){return n("RenderComponent",{key:t.id,attrs:{components:e.components,component:t}})})),1)],2)}),h=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__picture"},[e.component.props.src.url?n("img",{staticClass:"picture",attrs:{src:e.component.props.src.url}}):n("PlaceholderPicture")],1)},b=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"placeholder-picture"},[n("svg-icon",{attrs:{filename:"image"}})],1)},C=[],g={name:"PlaceholderPicture"},y=g,O=(n("04fd"),n("2877")),x=Object(O["a"])(y,_,C,!1,null,"7af9b806",null),w=x.exports,j={name:"ComponentPicture",components:{PlaceholderPicture:w},props:{component:{type:Object,required:!0}}},P=j,S=(n("3845"),Object(O["a"])(P,v,b,!1,null,"0d8e5232",null)),I=S.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__choice-question"},[n("div",{staticClass:"title",class:{required:e.component.props.required}},[e._v(" "+e._s(e.component.props.title)+" ")]),n("div",{staticClass:"desc"},[e._v(e._s(e.component.props.desc))]),n("ul",{staticClass:"option-list"},e._l(e.options,(function(t,o){return n("li",{key:o,staticClass:"option"},[n("input",{staticClass:"option-input",attrs:{id:"option-"+e._uid+"-"+o,type:e.component.props.quesType,name:"question"+e._uid},domProps:{checked:t.checked},on:{change:function(t){return e.handleChange(o)}}}),n("label",{staticClass:"label",attrs:{for:"option-"+e._uid+"-"+o}},[e._v(e._s(t.label))])])})),0)])},$=[],q=(n("4de4"),n("4160"),n("159b"),{name:"ComponentChoiseQuestion",props:{component:{type:Object,required:!0}},data:function(){return{options:JSON.parse(JSON.stringify(this.component.props.options))}},watch:{"component.props.options":{deep:!0,handler:function(e){this.options=JSON.parse(JSON.stringify(e))}}},methods:{getData:function(){return this.options.filter((function(e){return e.checked})).map((function(e){return e.label}))},handleChange:function(e){this.component.props.quesType===a.单选题?(this.options.forEach((function(t,n){n!==e&&(t.checked=!1)})),this.options[e].checked=!0):this.options[e].checked=!this.options[e].checked}}}),E=q,R=(n("e46d"),Object(O["a"])(E,k,$,!1,null,"1d19a5d8",null)),T=R.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__textarea"},[n("div",{staticClass:"title",class:{required:e.component.props.required}},[e._v(" "+e._s(e.component.props.title)+" ")]),n("div",{staticClass:"desc"},[e._v(e._s(e.component.props.desc))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"textarea",attrs:{rows:e.component.props.rows,placeholder:"请输入"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})])},N=[],J={name:"ComponentTextarea",props:{component:{type:Object,required:!0}},data:function(){return{value:""}},methods:{getData:function(){return this.value}}},D=J,F=(n("d9a7"),Object(O["a"])(D,A,N,!1,null,"e5c4de66",null)),L=F.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__text"},[n("div",{style:e.component.style},[e._v(e._s(e.component.props.text))])])},B=[],H={name:"ComponentText",props:{component:{type:Object,required:!0}}},W=H,Q=(n("7d28"),Object(O["a"])(W,M,B,!1,null,"68dd01cc",null)),X=Q.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__swiper"},[e.component.props.pictures.length?[n("div",{staticClass:"picture-list",style:e.pictureListStyle,on:{transitionend:e.handleTransitionend}},[e.seamlessPictures.length?n("div",{staticClass:"picture-item"},[n("img",{staticClass:"picture",attrs:{src:e.seamlessPictures[1].url,alt:""}})]):e._e(),e._l(e.component.props.pictures,(function(e,t){return n("div",{key:t,staticClass:"picture-item"},[n("img",{staticClass:"picture",attrs:{src:e.url,alt:""}})])})),e.seamlessPictures.length?n("div",{staticClass:"picture-item"},[n("img",{staticClass:"picture",attrs:{src:e.seamlessPictures[0].url,alt:""}})]):e._e()],2),n("div",{staticClass:"pagination"},e._l(e.component.props.pictures,(function(t,o){return n("div",{key:o,staticClass:"bullet",class:{active:e.checkIsActiveBullet(o)}})})),0)]:n("PlaceholderPicture")],2)},G=[],K=n("c8b5"),U=n.n(K),V={name:"ComponentSwiper",components:{PlaceholderPicture:w},props:{component:{type:Object,required:!0}},data:function(){return this.hammer=null,this.autoplayInterval=null,this.sliding=!1,{activeIndex:this.component.props.pictures.length>1?1:0,speed:this.component.props.speed}},computed:{pictureListStyle:function(){return{transform:"translateX(-".concat(100*this.activeIndex,"%)"),transition:"transform ".concat(this.speed,"s ease-out")}},seamlessPictures:function(){var e=this.component.props.pictures;return e.length>1?[e[0],e[e.length-1]]:[]}},watch:{"component.props":{deep:!0,handler:function(){this.processAutoplay()}},"component.props.autoplay":{handler:function(e){!e&&this.seamlessPictures.length&&(this.activeIndex=1)}}},mounted:function(){this.processHammer(),this.processAutoplay(),document.addEventListener("visibilitychange",this.onvisibilitychange)},beforeDestroy:function(){document.removeEventListener("visibilitychange",this.onvisibilitychange)},methods:{processHammer:function(){var e=this;this.hammer=new U.a(this.$el),this.hammer.on("swipeleft swiperight",(function(t){e.sliding||(e.sliding=!0,"swipeleft"===t.type?e.activeIndex+=1:"swiperight"===t.type&&(e.activeIndex-=1))}))},processAutoplay:function(){var e=this;clearInterval(this.autoplayInterval),this.component.props.autoplay&&this.component.props.pictures.length>1&&(this.autoplayInterval=setInterval((function(){e.sliding=!0,e.activeIndex+=1}),1e3*this.component.props.delay))},onvisibilitychange:function(){"visible"===document.visibilityState?this.processAutoplay():clearInterval(this.autoplayInterval)},checkIsActiveBullet:function(e){var t=this.component.props.pictures;return 0===e&&this.activeIndex===t.length+1||e===t.length-1&&0===this.activeIndex||this.activeIndex-1===e},handleTransitionend:function(){var e=this;this.activeIndex>this.component.props.pictures.length?(this.speed=0,this.activeIndex=1):this.activeIndex<=0&&(this.speed=0,this.activeIndex=this.component.props.pictures.length),setTimeout((function(){e.speed=e.component.props.speed,e.sliding=!1}),0)}}},Y=V,Z=(n("c793"),Object(O["a"])(Y,z,G,!1,null,"fae7731c",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__form"},[e._t("default"),n("button",{staticClass:"button",style:e.component.buttonStyle,on:{click:e.handleClickButton}},[e._v(" "+e._s(e.component.buttonProps.text)+" ")])],2)},ne=[],oe={name:"ComponentForm",props:{component:{type:Object,required:!0}},methods:{handleClickButton:function(){var e={};this.$children.forEach((function(t){var n=t.component,o=t.$refs;e[n.id]=o.component.getData()})),this.$emit("submit",e)}}},se=oe,ie=(n("4c06"),n("097e"),Object(O["a"])(se,te,ne,!1,null,"1c905e2e",null)),re=ie.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component__phone"},[n("div",{staticClass:"title",class:{required:e.component.props.required}},[e._v(" "+e._s(e.component.props.title)+" ")]),n("div",{staticClass:"desc"},[e._v(e._s(e.component.props.desc))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"input input__phone",attrs:{type:"tel",placeholder:e.component.props.placeholder},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),n("div",{staticClass:"code-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],ref:"inputCode",staticClass:"input input__code",attrs:{type:"tel",placeholder:"请输入短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),n("button",{staticClass:"button",style:e.component.buttonStyle,attrs:{disabled:e.disableSendCode},on:{click:e.handleClickSendCode}},[e.disableSendCode?n("span",[e._v(e._s(e.codeCountdown)+"秒")]):n("span",[e._v("发送验证码")])])])])},ae=[],pe={name:"ComponentPhone",props:{component:{type:Object,required:!0}},data:function(){return this.timer=null,{value:"",code:"",codeCountdown:0}},computed:{disableSendCode:function(){return this.codeCountdown>0}},methods:{getData:function(){return{value:this.value,code:this.code}},handleClickSendCode:function(){var e=this;this.codeCountdown>0||(this.$refs.inputCode.focus(),this.codeCountdown=60,this.timer=setInterval((function(){e.codeCountdown-=1,0===e.codeCountdown&&clearInterval(e.timer)}),1e3))}}},ue=pe,le=(n("5720"),Object(O["a"])(ue,ce,ae,!1,null,"6a23a9eb",null)),de=le.exports,me={name:"RenderComponent",props:{components:{type:Object,required:!0},component:{type:Object,required:!0},componentRenderConfig:{type:Object,default:function(){return{}}}},data:function(){var e;return this._componentRenderConfig=Object(s["a"])((e={},Object(l["a"])(e,c.图片,I),Object(l["a"])(e,c.选择题,T),Object(l["a"])(e,c.输入框,L),Object(l["a"])(e,c.文本,X),Object(l["a"])(e,c.轮播图,ee),Object(l["a"])(e,c.表单,re),Object(l["a"])(e,c.手机,de),e),this.componentRenderConfig),{}},computed:{childComponents:function(){var e,t,n=this;return null===(e=this.component)||void 0===e?void 0:null===(t=e.children)||void 0===t?void 0:t.map((function(e){return n.components[e]}))}}},fe=me,he=(n("eb0b"),Object(O["a"])(fe,f,h,!1,null,"3c756c66",null)),ve=he.exports,be={name:"Renderer",components:{RenderComponent:ve},props:{components:{type:Object,required:!0}},data:function(){return{}},computed:{rootChildComponents:function(){var e=this;return this.components.root.children.map((function(t){return e.components[t]}))}}},_e=be,Ce=(n("12bb"),Object(O["a"])(_e,d,m,!1,null,"61969070",null)),ge=Ce.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("RenderForm",e._b({on:{submit:e.handleSubmit}},"RenderForm",e.$attrs,!1),[e._t("default")],2)},Oe=[],xe={name:"FormWrap",components:{RenderForm:re},methods:{handleSubmit:function(e){console.log("handleSubmit -> data",e)}}},we=xe,je=Object(O["a"])(we,ye,Oe,!1,null,null,null),Pe=je.exports,Se={name:"App",components:{Renderer:ge},data:function(){return this.componentRenderConfig=Object(l["a"])({},c.表单,Pe),{components:null}}},Ie=Se,ke=(n("5fe7"),n("233d"),n("215b"),Object(O["a"])(Ie,p,u,!1,null,null,null)),$e=ke.exports;o["a"].config.productionTip=!1;var qe=new o["a"]({render:function(e){return e($e)}}).$mount("#app"),Ee=window.localStorage.getItem(i);if(Ee){var Re=JSON.parse(Ee),Te=Re.components;Te&&(qe.$children.components=Te)}window.addEventListener("message",(function(e){var t=e.data.components;t&&(qe.$children.components=t)})),window.self!==window.parent&&window.parent.postMessage({readyState:document.readyState},"*")},a15a:function(e,t,n){},a573:function(e,t,n){},c006:function(e,t,n){},c793:function(e,t,n){"use strict";var o=n("58f9"),s=n.n(o);s.a},d414:function(e,t,n){},d9a7:function(e,t,n){"use strict";var o=n("6d04"),s=n.n(o);s.a},e46d:function(e,t,n){"use strict";var o=n("a573"),s=n.n(o);s.a},e4cf:function(e,t,n){},eb0b:function(e,t,n){"use strict";var o=n("35e6"),s=n.n(o);s.a},ff22:function(e,t,n){}});
//# sourceMappingURL=app.3d4bdd5e.js.map